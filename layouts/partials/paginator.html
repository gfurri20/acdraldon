<!-- Paginator -->
{{ $pag := $.Paginator }}
{{ if gt $pag.TotalPages 1 }}
{{ $.Scratch.Set "dot_rendered" false }}
<div class="pt-5">
    <nav aria-label="Page navigation">
        <ul class="pagination justify-content-center">

            {{ if $pag.HasPrev }}
                <li class="page-item">
                    <a class="page-link" href="{{ .Paginator.Prev.URL }}">&laquo;</a>
                </li>
            {{ else }}
                <li class="page-item">
                    <a class="page-link disabled">&laquo;</a>
                </li>
            {{ end }}

            {{ range $pag.Pagers }}

                {{ if eq . $pag }} <!-- Current Page -->
                    <li class="page-item active">
                        <a href="{{ .URL }}" class="page-link">{{ .PageNumber }}</a>
                    </li>
                {{ else if and (ge .PageNumber (sub $pag.PageNumber 2)) (le .PageNumber (add $pag.PageNumber 2)) }}
                    {{ $.Scratch.Set "dot_rendered" false }} <!-- Render prev 2 page and next 2 pages -->
                    <li class="page-item">
                        <a href="{{ .URL }}" class="page-link">{{ .PageNumber }}</a>
                    </li>
                {{ else if eq ($.Scratch.Get "dot_rendered") false }} <!-- render skip pages -->
                {{ $.Scratch.Set "dot_rendered" true }}
                    <li class="page-item disabled"><a class="page-link">...</a></li>
                {{ end }}
            {{ end }}


            {{ if .Paginator.HasNext }}
            <li class="page-item">
                <a class="page-link" href="{{ .Paginator.Next.URL }}">&raquo;</a>
            </li>
            {{ else }}
            <li class="page-item">
                <a class="page-link disabled">&raquo;</a>
            </li>
            {{ end }}
        </ul>
    </nav>
</div>
{{ end }}